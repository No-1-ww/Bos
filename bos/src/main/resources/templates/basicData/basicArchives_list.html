<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>基础档案</title>
<link rel="stylesheet" type="text/css" href="../../layui/css/layui.css">
<link rel="stylesheet" type="text/css" href="../css/page.css">
</head>
<body>
<!-- 外部整体 -->
<div class="external">
	<!-- 操作按扭组 -->
	<div class="layui-form-item" style="padding-left: 11px;height: 30px;">
		<div class="layui-inline">
			<button type="button" class="layui-btn layui-btn-small btnQuery" id="opDetailAdd">新增详细信息</button>
			<button type="button" class="layui-btn layui-btn-small btnOther" id="opUpdate">编辑</button>
			<button type="button" class="layui-btn layui-btn-small btnOther" id="opDelete">作废</button>
		</div>
	</div>

	<!-- 操作区域 -->
	<div class="operation">
		<!-- 向上间距 -->
		<div style="height: 10px;"></div>
		<form class="layui-form" action="">

			<!-- 数据表格 -->
			<!--<table class="layui-table">
				<colgroup>
				    <col width="50">
				    <col width="60">
				    <col width="120">
				    <col width="90">
				    <col width="90">
				    <col width="100">
				    <col width="100">
				    <col width="170">
				    <col>
			  	</colgroup>
			  	<thead>
				    <tr>
				    	<th><input type="checkbox" name="check" lay-skin="primary"></th>
				    	<th>序号</th>
				      	<th>档案名称</th>
				      	<th>上级编码</th>
				      	<th>封存标志</th>
					  	<th>操作人员</th>
					  	<th>操作单位</th>
					  	<th>操作时间</th>
					  	<th>备注</th>
				    </tr> 
			  	</thead>
			  	<tbody>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>1</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>2</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>3</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>4</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>5</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>6</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
				    <tr>
				      	<td><input type="checkbox" name="check" lay-skin="primary"></td>
				      	<td>7</td>
				      	<td>档案名称</td>
				      	<td>BH001</td>
				      	<td>否</td>
				      	<td>张三</td>
				      	<td>总公司</td>
				      	<td>2017-10-17 14:31:31</td>
				      	<td>档案备注信息</td>
				    </tr>
			  	</tbody>
			</table>-->

		</form>
		<div>
			<!-- 数据表格 -->
			<table class="layui-table" id="Basicarchivesentry" lay-filter="tools"></table>
		</div>
	</div>
</div>
<script type="text/javascript" src="../../custom/jquery.min.js"></script>
<script type="text/javascript" src="../../layui/layui.js"></script>
<script type="text/javascript">

	//加载'table'模块
	var table;
	var layer;
	var form;
	var laydate;
	var element;
	layui.use(['layer','laypage','table','element','form','laydate','element'], function(){
		table = layui.table;
		layer = layui.layer;
		form = layui.form;
		laydate = layui.laydate;
		element = layui.element //元素操作
		var parentid=[[${parentid}]];
		//alert(parentid);
		table.render({
			id:'alltable',
			height:305,
			elem:'#Basicarchivesentry',
			url: '/findBasicarchivesentryAll?parentid='+parentid,
			page:true,
			//limits: [10,25,50,75,100],  //每页条数的选择项，默认：[10,20,30,40,50,60,70,80,90]。
			limit: 5,
			cols: [
				[ //表头
					{checkbox:true, fixed: 'left'}
					,{field: 'ID', title: '序号',width:80}
					,{field: 'Yname', title: '档案名称',width:120}
					,{field: 'BasicFileNumber', title: '上级档案编号',width:130}
					,{field: 'Available', title: '是否封存',width:98}
					,{field: 'EmpName', title: '操作人员',width:100}
					,{field: 'Uname', title: '单位名称',width:150}
					,{field: 'OperationTime', title: '操作时间',width:120}
					,{field: 'Remarks', title: '备注',width:120}

				]
			],
			done:function (res,curr,count) {
				$("[data-field='Available']").children().each(function () {
					if ($(this).text() == 'true') {
						$(this).text("是")
					}else if($(this).text()=='false'){
						$(this).text("否")
					}
				});
			}
		})


	});
















//加载'form'模块，使checkbox、select、radio初始化
layui.use('form', function(){
   
});

//加载'table'模块
layui.use('table', function(){
  var table = layui.table;
});

$(function(){

	//新增详细信息
	$('#opDetailAdd').click(function(){
		var parentid=[[${parentid}]];
		var BasicFileNumber='[[${BasicFileNumber}]]';
		//页面层
		layer.open({
		  title: ['新增', 'color:#fff;background:#1da02b;'],
		  type: 2,
		  //skin: 'layui-layer-rim', //加上边框
		  area: ['650px', '375px'], //宽高
		  content: '/basicArchives_detail_add?parentid='+parentid+'&BasicFileNumber='+BasicFileNumber+''
		});
	});

	//编辑
	$('#opUpdate').click(function(){
		//页面层
		layer.open({
		  title: ['编辑', 'color:#fff;background:#1da02b;'],
		  type: 2,
		  //skin: 'layui-layer-rim', //加上边框
		  area: ['650px', '375px'], //宽高
		  content: 'basicArchives_detail_add.html'
		});
	});
	
});

</script>

</body>
</html>
