<!DOCTYPE html> 
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head> 
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <title>新增入库交接单</title>
    <link rel="stylesheet" type="text/css" href="../../layui/css/layui.css">
</head> 
<body>
	<!--引入自定义的js脚本库-->
	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>

	<form class="layui-form" action="/addStorage" method="post">
		<br/>
		<br/>
	<table class="layui-table" style="width: 98%;margin: 1px auto;text-align: center;">
	  	<tbody>
		    <tr>
		    	<td class="layui-bg-gray" width="14%">入库交接单号</td>
		      	<td width="20%">
					<input type="text" name="ID" placeholder="入库交接单号" th:value="${stoID}"  autocomplete="off" class="layui-input" value="" disabled="disabled">
		      	</td>
		      	<td class="layui-bg-gray" width="13%">接货时间</td>
		      	<td width="20%">
					<input type="text" name="acceptDate" placeholder="请输入接货时间" th:value="${now}" autocomplete="off" class="layui-input" value="" disabled="disabled">
		      	</td>
		      	<td class="layui-bg-gray" width="13%">接货人</td>
		      	<td width="20%">
					<input type="text" name="title" placeholder="请输入接货人" th:value="${shouHuo}" autocomplete="off" class="layui-input" value="" disabled="disabled">
		      	</td>
		    </tr>
		    <tr>
		      	<td class="layui-bg-gray">接收单位</td>
		      	<td>
					<input type="text" name="title" placeholder="请输入接收单位" th:value="${SyUnitsName}" autocomplete="off" class="layui-input" value="" disabled="disabled">
				</td>
		      	<td class="layui-bg-gray">发货人 </td>
		      	<td>
					<select lay-filter="test" id="acceptPerson"  >
						<option    value=""></option>
						<option  th:each="syemp,userStat:${SyEmps}" th:text="${syemp.empName}" th:value="${syemp.ID}"   value=""></option>
					</select>
				</td>
		      	<td class="layui-bg-gray">发货单位</td>
		      	<td>
					<input type="text" name="deliveryPerson" placeholder="请输入发货单位" autocomplete="off" class="layui-input" value="" disabled="disabled">
				</td>
		    </tr>
	  	</tbody>
	</table>
	<table class="layui-table" style="width: 98%;margin: 5px auto;text-align: center;">
		<colgroup>
			<col width="20%">
			<col width="20%">
			<col width="20%">
			<col width="20%">
			<col>
		</colgroup>
		<thead>
		<tr>
			<th>单号</th>
			<th>合包号</th>
			<th>重量</th>
			<th>关联出库交接单</th>
			<th>状态</th>
		</tr>
		</thead>
		<tbody>
		<tr>
			<td>
				<input type="text" name="ID" placeholder="请输入单号" autocomplete="off" class="layui-input" value="">
			</td>
			<td>
				<input type="text" name="packageID" placeholder="请输入合包号" autocomplete="off" class="layui-input" value="">
			</td>
			<td>
				<input type="text" name="weiGht" placeholder="请输入重量" autocomplete="off" class="layui-input" value="">
			</td>
			<td>
				<input type="text"  name="outBoundID" placeholder="关联出库交接单" autocomplete="off" class="layui-input" value="">
			</td>
			<td>
				<select lay-filter="state" name="state" >
					<option value=""></option>
					<option value="0">初始入库</option>
					<option value="1">中转入库</option>
					<option value="2">二次入库</option>
					<option value="3">有货无单</option>
				</select>
			</td>
		</tr>
		<tr>
			<td colspan="5">
				<button class="layui-btn" style="background: #1da02b;">确定</button>
				<button type="button" class="layui-btn layui-btn-primary">取消</button>
			</td>
		</tr>
		</tbody>

	</table>
	</form>
	<script type="text/javascript" src="../../custom/jquery.min.js"></script>
	<script type="text/javascript" src="../../layui/layui.js"></script>
	<script type="text/javascript">


        //加载'form'模块，使checkbox、select、radio初始化
        layui.use('form', function(){
            var form = layui.form;
            /*form.render();*/
			//监听select下拉框的值改变事件
            form.on("select(test)",function (data) {
               /* alert(data.value);
               * 取得下拉框的值*/
                var id = data.value;
                $.ajax({
					url:"/queryUnitsName",
					type:"POST",
					data:{"EmpUnitID":id},
					success:function (data) {
						$("input[name=deliveryPerson]").val(data);
                    }
				})
            });

            form.on("select(state)",function (data) {
                alert(data.value)
				if(data.value == 0){
				    $("input[name=outBoundID]").attr("disabled","disabled");
                    $("input[name=outBoundID]").val("该列不需要填写");

				}
            });


        });
    </script>
</body> 
</html>
    

